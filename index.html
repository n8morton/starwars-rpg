<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="reset.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
    <!-- helloworld -->
    <container id="main-container">
        <div id="game-window" style="background-image:url(images/jabbabg1.png)">



        </div>
    </container>


    <script>
        // declare main variables
        var startButton = $("<button>");
        var sbText = $("<p>");
        var promptWindow = $("<div>");
        var selectA = $("<div>");
        var selectB = $("<div>");
        var selectC = $("<div>");
        var selectD = $("<div>");
        var textBox = $("<p>");
        var playerVs = $("<div>");
        var opponentVs = $("<div>");
        var roundText = $("<p>");
        var fightButton = $("<button>");
        var fbText = $("<p>");
        var bobaVs = $("<img src=images/bobavs.png>");
        var ig88Vs = $("<img src=images/ig88vs.png>");
        var bosskVs = $("<img src=images/bosskvs.png>");
        var zuckussVs = $("<img src=images/zuckussvs.png>");
        var bobaVsMirror = $("<img src=images/bobavsmirror.png>");
        var ig88VsMirror = $("<img src=images/ig88vsmirror.png>");
        var bosskVsMirror = $("<img src=images/bosskvsmirror.png>");
        var zuckussVsMirror = $("<img src=images/zuckussvsmirror.png>");
        var currentPlayer = "none";
        var currentOpponent
        var playerHp
        var playerAtk
        var playerBaseAtk
        var opponentHp
        var opponentAtk
        var fightText = $("<p>");
        var playerStatus = $("<p>");
        var opponentStatus = $("<p>");
        var attackButton = $("<button>");
        var abText = $("<p>");
        var winCount = 0;
        var charA = {
            "Name": "Boba Fett",
            "Health": 160,
            "Attack": 8,
            "CounterAttack": 15,
        };
        var charB = {
            "Name": "Bossk",
            "Health": 170,
            "Attack": 7,
            "CounterAttack": 10,
        };
        var charC = {
            "Name": "IG-88",
            "Health": 140,
            "Attack": 12,
            "CounterAttack": 10,
        };
        var charD = {
            "Name": "Zuckuss",
            "Health": 180,
            "Attack": 6,
            "CounterAttack": 20,
        };

        // set classes
        startButton.addClass("start-button");
        sbText.addClass("sb-text");
        promptWindow.addClass("prompt-window");
        selectA.addClass("select-a select-all").data("character", charA);
        selectB.addClass("select-b select-all").data("character", charB);
        selectC.addClass("select-c select-all").data("character", charC);
        selectD.addClass("select-d select-all").data("character", charD);
        textBox.addClass("text-box");
        playerVs.addClass("player-vs");
        opponentVs.addClass("opponent-vs");
        roundText.addClass("round-text vs-screen");
        fightButton.addClass("fight-button vs-screen");
        fbText.addClass("fb-text  vs-screen");
        bobaVs.addClass("boba-vs vs-screen");
        ig88Vs.addClass("ig88-vs vs-screen");
        bosskVs.addClass("bossk-vs vs-screen");
        zuckussVs.addClass("zuckuss-vs vs-screen");
        bobaVsMirror.addClass("boba-vs-mirror vs-screen");
        ig88VsMirror.addClass("ig88-vs-mirror vs-screen");
        bosskVsMirror.addClass("bossk-vs-mirror vs-screen");
        zuckussVsMirror.addClass("zuckuss-vs-mirror vs-screen");
        attackButton.addClass("attack-button fight-screen");
        abText.addClass("ab-text fight-screen");
        fightText.addClass("fight-text fight-screen");
        playerStatus.addClass("player-status fight-screen");
        opponentStatus.addClass("opponent-status fight-screen");

        $("#game-window").append(startButton, promptWindow);
        $(".start-button").append(sbText);
        $(".sb-text").text("Click To Start");
        $(".prompt-window").append(textBox, selectA, selectB, selectC, selectD).hide();
        $(".text-box").text("Please Select Your Character");
        $("#game-window").append(fightButton, roundText, bobaVs, ig88Vs, bosskVs, zuckussVs, bobaVsMirror, ig88VsMirror, bosskVsMirror, zuckussVsMirror, attackButton, fightText, playerStatus, opponentStatus);
        $(".round-text").text("Round 1");
        $(".vs-screen").hide();
        $(".fight-button").append(fbText);
        $(".fb-text").text("FIGHT!");
        $(".attack-button").append(abText);
        $(".ab-text").text("Click To Attack");
        $(".fight-screen").hide();




        // click to start game
        $(".start-button").click(function () {
            $(".start-button").hide();
            $(".prompt-window").show();
        });

        // user selects thier character
        $(".select-all").click(function () {
            if (currentPlayer == "none") {
                currentPlayer = $(this).data("character");
                $(this).hide();
                $(".text-box").text("Please Select Your First Opponent");
                $(".prompt-window").css("width", "700").css("left", "260px");
                $(".select-all").css("width", "28%").css("margin-left", "3.75%")
            }
            else {
                currentOpponent = $(this).data("character");
                $(".prompt-window").hide();
                $(this).hide();
                $(".vs-screen").show();
                console.log(currentPlayer, currentOpponent);

                if (currentPlayer.Name == "Boba Fett") {
                    bobaVs.show();
                    ig88Vs.hide();
                    bosskVs.hide();
                    zuckussVs.hide();
                }
                if (currentPlayer.Name == "Bossk") {
                    bobaVs.hide();
                    bosskVs.show();
                    ig88Vs.hide();
                    zuckussVs.hide();
                }
                if (currentPlayer.Name == "IG-88") {
                    bobaVs.hide();
                    bosskVs.hide();
                    ig88Vs.show();
                    zuckussVs.hide();
                }
                if (currentPlayer.Name == "Zuckuss") {
                    bobaVs.hide();
                    bosskVs.hide();
                    ig88Vs.hide();
                    zuckussVs.show();
                }

                if (currentOpponent.Name == "Boba Fett") {
                    bobaVsMirror.show();
                    ig88VsMirror.hide();
                    bosskVsMirror.hide();
                    zuckussVsMirror.hide();
                }
                if (currentOpponent.Name == "Bossk") {
                    bobaVsMirror.hide();
                    bosskVsMirror.show();
                    ig88VsMirror.hide();
                    zuckussVsMirror.hide();
                }
                if (currentOpponent.Name == "IG-88") {
                    bobaVsMirror.hide();
                    bosskVsMirror.hide();
                    ig88VsMirror.show();
                    zuckussVsMirror.hide();
                }
                if (currentOpponent.Name == "Zuckuss") {
                    bobaVsMirror.hide();
                    bosskVsMirror.hide();
                    ig88VsMirror.hide();
                    zuckussVsMirror.show();
                }

            }
        });

        $(".fight-button").click(function () {
            $(".fight-button").hide();
            $(".round-text").hide();
            $(".fight-screen").show();

            if (winCount == 0) {
                playerHp = currentPlayer.Health;
                playerAtk = currentPlayer.Attack;
            };

            playerBaseAtk = currentPlayer.Attack;
            opponentHp = currentOpponent.Health;
            opponentAtk = currentOpponent.CounterAttack;

            $(".player-status").html("Current Health:" + playerHp + "<br> Attack Power:" + playerAtk);
            $(".opponent-status").html("Current Health:" + opponentHp + "<br> Attack Power:" + opponentAtk);


        });

        $(".attack-button").click(function () {
            opponentHp = (opponentHp - playerAtk);
            playerHp = (playerHp - opponentAtk);
            playerAtk = (playerAtk + playerBaseAtk);

            $(".player-status").html("Current Health:" + playerHp + "<br> Current Attack Power:" + playerAtk);
            $(".opponent-status").html("Current Health:" + opponentHp + "<br> Attack Power:" + opponentAtk);

            if (playerHp < 1) {
                $(".fight-screen").hide();
                $(".vs-screen").hide();
                $(".fight-text").html("GAME OVER<br>Play Again?").show()
            }else if (opponentHp < 1) {
                $(".fight-screen").hide();
                $(".vs-screen").hide();
                $(".text-box").text("Please Select Your Next Opponent");
                $(".prompt-window").show()
                $(".fight-screen").hide();
                winCount++;
                
                if (winCount > 2) {
                    $(".fight-screen").hide();
                    $(".vs-screen").hide();
                    $(".fight-text").html("CONGRATULATIONS!<BR>YOU WIN!<BR>Play Again?").show();
                    $(".prompt-window").hide();
                }
            }



        });

    </script>

</body>

</html>